<!DOCTYPE html>

<html>

<head>
	<!--Import Google Icon Font-->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<!--Import materialize.css-->
	<link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

	<!--Let browser know website is optimized for mobile-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<script data-require="d3@3.5.3" data-semver="3.5.3" src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.js"></script>
	<script src ="./js/midi.js"></script>
	<title>Sonification</title>
</head>

<body>

	<h3>Upload a csv here and use ctrl+shift+j to access view the file's output</h3>

	<form id="fileForm">
		<input type="file" id="myFile" onchange="loadFile()">
		<input type="button" onclick="logFile(document.getElementById('myFile').value);">
	</form>

	<script type="text/javascript">

		var reader = new FileReader();  
    
	    function loadFile() {
	      var file = document.querySelector('input[type=file]').files[0];      
	      reader.addEventListener("load", parseFile, false);
	      if (file) {
	        reader.readAsText(file);
	      }      
	    }
	    
	    function parseFile(){
	      var doesColumnExist = false;
	      var data = d3.csv.parse(reader.result, function(d){
	        doesColumnExist = d.hasOwnProperty("aisle");
	        return d;   
	      });
	      console.log(doesColumnExist);
	      console.log(data);
	    }

	</script>

	<script type="text/javascript" src="js/materialize.min.js"></script>


</body>
</html>